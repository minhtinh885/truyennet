function customize(){var o={};localStorage.getItem("customize_info")&&(o=JSON.parse(localStorage.getItem("customize_info"))),o={bg_color:$("#bg-id").val(),font_family:$("#font-id").val(),font_size:$("#size-id").val(),line_height:$("#height-id").val(),fluid_switch:$('input:radio[name="fluid-switch"]:checked').val(),auto_scroll:$('input:radio[name="auto-scroll"]:checked').val(),time_delay:$("#time-delay-id").val(),height_scroll:$("#height-scroll-id").val()},localStorage.setItem("customize_info",JSON.stringify(o)),$("#body-id").css("background",o.bg_color),"#232323"==o.bg_color?$("#container-chapter").css("color","#ebebeb"):$("#container-chapter").css("color","#3b3b3b"),$("#chapter-content").css("font-family",o.font_family),$("#chapter-content").css("font-size",o.font_size),$("#chapter-content").css("line-height",o.line_height),"fluid"==o.fluid_switch?($("#container-chapter").removeClass("container"),$("#container-chapter").addClass("container-fluid")):($("#container-chapter").removeClass("container-fluid"),$("#container-chapter").addClass("container")),delayScroll=parseInt(o.time_delay),"auto-scroll"==o.auto_scroll&&0==interval_run&&0!=delayScroll?(auto_scroll_chapter=window.setInterval(scrollit,delayScroll),interval_run=1):(clearInterval(auto_scroll_chapter),interval_run=0,$("#no-scroll-id").prop("checked",!0))}function scrollit(){localStorage.getItem("customize_info")&&(customize_info=JSON.parse(localStorage.getItem("customize_info")),heightScroll=customize_info.height_scroll,"auto-scroll"==customize_info.auto_scroll?(0!=heightScroll?$("#body-id").animate({scrollTop:$("#body-id").scrollTop()+parseInt(heightScroll)},"slow"):$("#body-id").animate({scrollTop:$("#body-id").scrollTop()+100},"slow"),interval_run=1,$(window).scroll(function(){$(window).scrollTop()+$(window).height()==$(document).height()&&($("#next-id").attr("disabled")||setTimeout(function(){window.location.href=$("#next-id").attr("href")},5e3))})):(1==interval_run&&clearInterval(auto_scroll_chapter),interval_run=0))}$(".dropdown-menu").click(function(o){o.stopPropagation()});var customize_info={},interval_run=0,delayScroll=0,auto_scroll_chapter=null,heightScroll=0;$("document").ready(function(){localStorage.getItem("customize_info")&&(customize_info=JSON.parse(localStorage.getItem("customize_info")),$("#body-id").css("background",customize_info.bg_color),$("#bg-id").val(customize_info.bg_color),"#232323"==customize_info.bg_color?$("#container-chapter").css("color","#ebebeb"):$("#container-chapter").css("color","#3b3b3b"),$("#chapter-content").css("font-family",customize_info.font_family),$("#font-id").val(customize_info.font_family),$("#chapter-content").css("font-size",customize_info.font_size),$("#size-id").val(customize_info.font_size),$("#chapter-content").css("line-height",customize_info.line_height),$("#height-id").val(customize_info.line_height),$("#time-delay-id").val(customize_info.time_delay),$("#height-scroll-id").val(customize_info.height_scroll),"fluid"==customize_info.fluid_switch?($("#container-chapter").removeClass("container"),$("#container-chapter").addClass("container-fluid"),$("#fluid-bg").prop("checked",!0)):($("#container-chapter").removeClass("container-fluid"),$("#container-chapter").addClass("container"),$("#no-fluid-bg").prop("checked",!0)),delayScroll=parseInt(customize_info.time_delay),heightScroll=customize_info.height_scroll,"auto-scroll"==customize_info.auto_scroll?$("#auto-scroll-id").prop("checked",!0):$("#no-scroll-id").prop("checked",!0),"auto-scroll"==customize_info.auto_scroll&&0==interval_run&&0!=delayScroll&&(auto_scroll_chapter=window.setInterval(scrollit,delayScroll),interval_run=1));var o=$("#chap-name").text(),e=$("#chap-slug").text(),t=$("#book-name").text(),l=$("#book-slug").text(),i={};localStorage.getItem("local_info")&&(i=JSON.parse(localStorage.getItem("local_info"))),i[l]={bookName:t,bookSlug:l,bookUrl:'<a href="/'+l+'">'+t+"</a>",chapterName:o,chapterSlug:e,chapterUrl:'<a href="/'+l+"/"+e+'">'+o+"</a>"},localStorage.setItem("local_info",JSON.stringify(i))}),$("body").on("keydown",function(o){(37===o.keyCode||65===o.keyCode)&&($("#prev-id").attr("disabled")||(window.location.href=$("#prev-id").attr("href"))),(39===o.keyCode||68===o.keyCode)&&($("#next-id").attr("disabled")||(window.location.href=$("#next-id").attr("href")))});